{% extends "core/base.html" %}
{% load static %}

{% block content %}
<div class="container" style="margin-top: 140px;">

    <h2 class="mb-4">Pet Products</h2>

    <!-- Categories -->
    {% if categories %}
        <div class="mb-4">
            <strong>Categories:</strong>
            <ul style="list-style: none; padding-left: 0;">
                {% for category in categories %}
                    <li style="display: inline-block; margin-right: 15px;">
                        {{ category.name }}
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

    <!-- Products -->
    {% if products %}
        <div class="row">
            {% for product in products %}
                <div class="col-md-4 mb-4">
                    <div class="card h-100">

                        {% if product.image %}
                            <img src="{{ product.image.url }}"
                                 class="card-img-top"
                                 alt="{{ product.name }}"
                                 style="height: 200px; object-fit: cover;">
                        {% endif %}

                        <div class="card-body">
                            <h5 class="card-title">{{ product.name }}</h5>

                            <p class="text-muted mb-1">
                                Category: {{ product.category.name }}
                            </p>

                            <p class="card-text">
                                {{ product.description|truncatechars:100 }}
                            </p>

                            <p><strong>â‚¹ {{ product.price }}</strong></p>

                            <p class="text-muted">
                                Stock: {{ product.stock }}
                            </p>
                        </div>

                        <div class="card-footer text-center">
                            <button class="btn btn-secondary btn-sm" disabled>
                                Add to Cart (Coming Soon)
                            </button>
                        </div>

                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No products available at the moment.</p>
    {% endif %}

</div>
{% endblock %}
