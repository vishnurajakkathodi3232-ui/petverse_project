{% extends "core/base_inner.html" %}

{% block title %}Shelter Pets | PetVerse{% endblock %}

{% block content %}
<h2 class="mb-3">Manage Shelter Pets üêæ</h2>
<p class="text-muted">
    Control your shelter pets and their adoption availability.
</p>

<hr>

<a href="{% url 'shelter_add_pet' %}" class="btn btn-primary mb-3">
    <i class="fa fa-plus-circle"></i> Add New Pet
</a>

{% if pets %}
<div class="row">

    {% for pet in pets %}
    <div class="col-md-4">
        <div class="panel panel-default">
            <div class="panel-body text-center">

                {% if pet.image %}
                    <img src="{{ pet.image.url }}"
                         class="img-responsive"
                         style="margin:0 auto 10px; max-height:160px;">
                {% endif %}

                <h4>{{ pet.name }}</h4>
                <p class="text-muted">{{ pet.category }}</p>

                {% if pet.is_available %}
                    <span class="label label-success">
                        Available for Adoption
                    </span>
                {% else %}
                    <span class="label label-default">
                        Not Available
                    </span>
                {% endif %}

                <hr>

                {% if pet.is_available %}
                    <a href="{% url 'shelter_mark_unavailable' pet.id %}"
                       class="btn btn-warning btn-sm">
                        Remove from Adoption
                    </a>
                {% else %}
                    <a href="{% url 'shelter_mark_available' pet.id %}"
                       class="btn btn-success btn-sm">
                        List for Adoption
                    </a>
                {% endif %}

                <hr>

                <a href="{% url 'shelter_edit_pet' pet.id %}"
                   class="btn btn-info btn-sm">
                    <i class="fa fa-edit"></i> Edit
                </a>

                <a href="{% url 'shelter_delete_pet' pet.id %}"
                   class="btn btn-danger btn-sm"
                   onclick="return confirm('Are you sure you want to delete this pet?')">
                    <i class="fa fa-trash"></i> Delete
                </a>

            </div>
        </div>
    </div>
    {% endfor %}

</div>
{% else %}
<div class="alert alert-info">
    No pets have been added yet.
</div>
{% endif %}

{% endblock %}
