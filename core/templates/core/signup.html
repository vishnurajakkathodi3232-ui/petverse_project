{% extends "core/base_auth.html" %}

{% block title %}Signup{% endblock %}

{% block content %}
<div class="container col-md-5">
    <h2>Create an Account</h2>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <input class="form-control" name="username" placeholder="Username" required><br>

        <input class="form-control" name="email" placeholder="Email" type="email" required><br>

        <input class="form-control" name="full_name" placeholder="Full Name" required><br>

        <input class="form-control" name="phone" placeholder="Phone Number" required><br>

        <textarea class="form-control" name="address" placeholder="Address" required></textarea><br>

        <!-- OWN A PET QUESTION -->
        <label>Do you own a pet?</label>
        <select class="form-control" name="owns_pet" id="owns-pet-select" required>
            <option value="no">No</option>
            <option value="yes">Yes</option>
        </select><br>

        <!-- PET DETAILS: SHOWN ONLY IF YES -->
        <div id="pet-details" style="display:none;">
            <input class="form-control" name="pet_name" placeholder="Pet Name"><br>

            <input class="form-control" name="pet_type" placeholder="Pet Type (Dog, Cat, etc.)"><br>

            <input class="form-control" type="file" name="pet_image"><br>
        </div>

        <select class="form-control" name="role" required>
            <option value="adopter">Adopter</option>
            <option value="owner">Owner</option>
        </select><br>

        <input class="form-control" name="password" type="password" placeholder="Password" required><br>

        <button class="btn btn-primary btn-block" style="width:100%;">Create Account</button>
    </form>
</div>

<!-- SIMPLE JS TO TOGGLE PET FIELDS -->
<script>
    document.getElementById("owns-pet-select").addEventListener("change", function() {
        var petSection = document.getElementById("pet-details");
        petSection.style.display = this.value === "yes" ? "block" : "none";
    });
</script>

{% endblock %}
