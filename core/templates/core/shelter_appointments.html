{% extends "core/base_inner.html" %}

{% block title %}Shelter Appointments | PetVerse{% endblock %}

{% block content %}

<style>
    .appointment-card {
        background: #faf7f2;
        border: 1px solid #e6dfd4;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
        transition: all 0.2s ease;
    }

    .appointment-card:hover {
        box-shadow: 0 8px 20px rgba(0,0,0,0.08);
        transform: translateY(-3px);
    }

    .appointment-meta {
        color: #777;
        font-size: 13px;
    }

    .status-badge {
        padding: 4px 10px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
    }

    .status-upcoming {
        background: #eaf3ff;
        color: #2b5cff;
    }

    .status-done {
        background: #e8f6ec;
        color: #2e8b57;
    }
</style>

<h2 class="mb-2">Service Appointments üìÖ</h2>

<p class="text-muted">
    Appointments booked for pets registered under your shelter.
</p>

<hr>

{% if appointments %}

    {% for appt in appointments %}
    <div class="appointment-card">

        <div class="row">
            <!-- LEFT -->
            <div class="col-md-8">
                <h4 class="mb-1">
                    {{ appt.owned_pet.pet.name }}
                </h4>

                <p class="appointment-meta">
                    <i class="fa fa-user"></i>
                    Booked by: {{ appt.user.username }}
                </p>

                <p class="appointment-meta">
                    <i class="fa fa-stethoscope"></i>
                    {{ appt.service.name }}
                </p>

                <p class="appointment-meta">
                    <i class="fa fa-calendar"></i>
                    {{ appt.appointment_date }}
                    &nbsp;
                    <i class="fa fa-clock-o"></i>
                    {{ appt.appointment_time }}
                </p>

                {% if appt.notes %}
                <p class="appointment-meta">
                    <i class="fa fa-sticky-note"></i>
                    {{ appt.notes }}
                </p>
                {% endif %}
            </div>

            <!-- STATUS -->
            <div class="col-md-4 text-right">
                {% if appt.status == "completed" %}
                    <span class="status-badge status-done">
                        Completed
                    </span>
                {% else %}
                    <span class="status-badge status-upcoming">
                        {{ appt.status|capfirst }}
                    </span>
                {% endif %}
            </div>
        </div>

    </div>
    {% endfor %}

{% else %}

    <div class="alert alert-info">
        <strong>No appointments yet.</strong><br>
        Appointments booked for shelter pets will appear here.
    </div>

{% endif %}

<div class="text-right">
    <a href="{% url 'shelter_dashboard' %}" class="btn btn-default">
        ‚Üê Back to Dashboard
    </a>
</div>

{% endblock %}
