{% extends "core/base_inner.html" %}
{% block title %}Chat | PetVerse{% endblock %}

{% block content %}

<style>
.chat-box {
    background: #faf7f2;
    border: 1px solid #e6dfd4;
    border-radius: 10px;
    padding: 20px;
    height: 400px;
    overflow-y: auto;
}

.message {
    margin-bottom: 12px;
}

.message strong {
    color: #2b5cff;
}

.message-time {
    font-size: 11px;
    color: #888;
}
</style>

<h3>Chat Conversation ðŸ’¬</h3>
<p class="text-muted">
    Regarding adoption request #{{ adoption_request.id }}
</p>

<hr>

<div class="chat-box">
    {% for msg in messages %}
        <div class="message">
            <strong>{{ msg.sender.username }}</strong><br>
            {{ msg.message }}<br>
            <span class="message-time">
                {{ msg.timestamp }}
            </span>
        </div>
    {% empty %}
        <p class="text-muted">No messages yet.</p>
    {% endfor %}
</div>

<hr>

<form method="post">
    {% csrf_token %}
    <div class="form-group">
        <textarea name="message"
                  class="form-control"
                  rows="3"
                  placeholder="Type your message..."
                  required></textarea>
    </div>
    <button type="submit" class="btn btn-primary btn-sm">
        Send
    </button>
</form>

{% endblock %}
